<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no"/>
    <title>Complex Map</title>
    <link rel="stylesheet" href="https://js.arcgis.com/3.23/esri/css/esri.css">
    <style>
      html, body, #map {
        height: 100%;
        margin: 0;
        padding: 0;
      }
        #BasemapToggle {
      position: absolute;
      top: 20px;
      right: 20px;
      z-index: 50;
    }
    </style>
    <script src="https://js.arcgis.com/3.23/"></script>
      <script>
          var map;
          require(["esri/map","dojo/dom","dojo/on","esri/dijit/BasemapToggle","esri/layers/ArcGISDynamicMapServiceLayer","dojo/domReady!"],function(Map,dom,on,BasemapToggle,ArcGISDynamicMapServiceLayer){
              on (dom.byId("layer"),"click",getValues);
              map = new Map("map", {
          basemap: "topo",
          center: [-116.093, 34.218],
          zoom: 7
        });
              
     var oilAndGasLayer = new ArcGISDynamicMapServiceLayer("https://sampleserver6.arcgisonline.com/arcgis/rest/services/Census/MapServer", {
        "id": "oilAndGasLayer",
        "opacity": 0.75
      });
              function getValues()
              {
      map.addLayer(oilAndGasLayer)
              };
     var toggle = new BasemapToggle({
        map: map,
        basemap: "satellite"
      }, "BasemapToggle");
      toggle.startup();
          });
   
          
      </script>
      <body>
          <input id="layer" type="button" value="显示图层"/>
          <div id="map"></div>
          <div id="BasemapToggle"></div>
      </body>